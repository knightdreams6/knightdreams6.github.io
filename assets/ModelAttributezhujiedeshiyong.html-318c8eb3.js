import{_ as n,o as a,c as s,b as t}from"./app-03a88084.js";const e={},o=t(`<h3 id="modelattribute使用详解" tabindex="-1"><a class="header-anchor" href="#modelattribute使用详解" aria-hidden="true">#</a> @ModelAttribute使用详解</h3><p>@ModelAttribute最主要的作用是将数据添加到模型对象中，用于视图页面展示时使用。</p><p>@ModelAttribute等价于 model.addAttribute(&quot;attributeName&quot;, “value”); 但是根据@ModelAttribute注释的位置不同，和其他注解组合使用，致使含义有所不同。具体区别如下：</p><h4 id="_1、-modelattribute注释方法" tabindex="-1"><a class="header-anchor" href="#_1、-modelattribute注释方法" aria-hidden="true">#</a> 1、@ModelAttribute注释方法</h4><blockquote><p>被@ModelAttribute注释的方法会在此controller每个方法执行前被执行，因此对于一个controller映射多个URL的用法来说，要谨慎使用。</p></blockquote><h5 id="_1-、注释void返回值方法" tabindex="-1"><a class="header-anchor" href="#_1-、注释void返回值方法" aria-hidden="true">#</a> 1）、注释void返回值方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestModelAttributeController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ModelAttribute</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>http://localhost:8080/ssm/hello.action?str=abc，访问结果：将abc保存model域中</p></blockquote><h5 id="_2-、注释返回具体类的方法" tabindex="-1"><a class="header-anchor" href="#_2-、注释返回具体类的方法" aria-hidden="true">#</a> 2）、注释返回具体类的方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@ModelAttribute</span>
    <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">accountModel</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> accountService<span class="token punctuation">.</span><span class="token function">getAccountById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>http://localhost:8080/ssm/hello.action?str=abc&amp;id=1 访问结果，将account保存到域中，取出的key为account即类名</p></blockquote><h5 id="_3-、modelattribute-指定key值" tabindex="-1"><a class="header-anchor" href="#_3-、modelattribute-指定key值" aria-hidden="true">#</a> 3）、ModelAttribute 指定key值</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;attributeName&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">attributeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;knight&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>http://localhost:8080/ssm/hello.action?str=abc&amp;id=1 访问结果，可以获取到key为 attributeName 的 value ··knight</p></blockquote><h5 id="_4-、与-getmapping一起注解" tabindex="-1"><a class="header-anchor" href="#_4-、与-getmapping一起注解" aria-hidden="true">#</a> 4）、与@GetMapping一起注解</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello1&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;attributeName&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>http://localhost:8080/ssm/hello1.action?str=abc&amp;id=1 访问结果，返回视图名为hello1，可以获取到key为 attributeName的value ··· hi</p></blockquote><h4 id="_2、-modelattribute注释一个方法的参数" tabindex="-1"><a class="header-anchor" href="#_2、-modelattribute注释一个方法的参数" aria-hidden="true">#</a> 2、@ModelAttribute注释一个方法的参数</h4><h5 id="_1-、从model中获取" tabindex="-1"><a class="header-anchor" href="#_1-、从model中获取" aria-hidden="true">#</a> 1）、从model中获取</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">addAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;lixiao&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/helloWorld&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">{</span>
        account<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;李汶颖&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello2&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>http://localhost:8080/ssm/helloWorld.action 访问结果 返回视图名为hello，可以获取到key为 user 的 value Account{id=1, name=&#39;李汶颖&#39;, money=&#39;10000&#39;}</p></blockquote>`,21),p=[o];function c(i,l){return a(),s("div",null,p)}const d=n(e,[["render",c],["__file","ModelAttributezhujiedeshiyong.html.vue"]]);export{d as default};
